!function(X){"use strict";X(document).ready(function(){a.init()});var a={showLogs:!1,round:1e3,init:function(){if(this._log("init"),this._inited)return this._log("Already Inited"),void(this._inited=!0);this._requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,t){window.setTimeout(a,1e3/60)},this._onScroll(!0)},_inited:!1,_properties:["x","y","z","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","scale"],_requestAnimationFrame:null,_log:function(a){this.showLogs&&console.log("Parallax Scroll / "+a)},_onScroll:function(q){var v=X(document).scrollTop(),F=X(window).height();this._log("onScroll "+v),X("[data-parallax]").each(X.proxy(function(a,t){for(var i=X(t),o=[],r=!1,e=i.data("style"),l=(null==e&&(e=i.attr("style")||"",i.data("style",e)),[i.data("parallax")]),n=2;i.data("parallax"+n);n++)l.push(i.data("parallax-"+n));var s,c,u=l.length;for(n=0;n<u;n++){var d,m,h,p=l[n],w=p["from-scroll"],g=(null==w&&(w=Math.max(0,X(t).offset().top-F)),w|=0,p.distance),x=p["to-scroll"],_=(null==g&&null==x&&(g=F),g=Math.max(0|g,1),p.easing),y=p["easing-return"],f=(null!=_&&X.easing&&X.easing[_]||(_=null),null!=y&&X.easing&&X.easing[y]||(y=_),_&&(null==(d=p.duration)&&(d=g),d=Math.max(0|d,1),null==(m=p["duration-return"])&&(m=d),g=1,null==(h=i.data("current-time"))&&(h=0)),null==x&&(x=w+g),x|=0,p.smoothness),A=(null==f&&(f=30),f|=0,!q&&0!=f||(f=1),f|=0,v),A=Math.max(A,w);A=Math.min(A,x),_&&(null==i.data("sens")&&i.data("sens","back"),w<A&&("back"==i.data("sens")?(h=1,i.data("sens","go")):h++),A<x&&("go"==i.data("sens")?(h=1,i.data("sens","back")):h++),q&&(h=d),i.data("current-time",h)),this._properties.map(X.proxy(function(a){var t,e,l,n=0,s=p[a];null!=s&&("scale"==a||"scaleX"==a||"scaleY"==a||"scaleZ"==a?n=1:s|=0,l=(t=null==(t=i.data("_"+a))?n:t)+((e=(A-w)/(x-w)*(s-n)+n)-t)/f,_&&0<h&&h<=d&&(n=n,"back"==i.data("sens")&&(s=-(n=s),_=y,d=m),l=X.easing[_](null,h,n,s,d)),(l=Math.ceil(l*this.round)/this.round)==t&&e==s&&(l=s),o[a]||(o[a]=0),o[a]+=l,t!=o[a]&&(i.data("_"+a,o[a]),r=!0))},this))}r&&(null!=o.z&&(null==(c=p.perspective)&&(c=800),(s=i.parent()).data("style")||s.data("style",s.attr("style")||""),s.attr("style","perspective:"+c+"px; -webkit-perspective:"+c+"px; "+s.data("style"))),null==o.scaleX&&(o.scaleX=1),null==o.scaleY&&(o.scaleY=1),null==o.scaleZ&&(o.scaleZ=1),null!=o.scale&&(o.scaleX*=o.scale,o.scaleY*=o.scale,o.scaleZ*=o.scale),c="translate3d("+(o.x||0)+"px, "+(o.y||0)+"px, "+(o.z||0)+"px)"+" "+("rotateX("+(o.rotateX||0)+"deg) rotateY("+(o.rotateY||0)+"deg) rotateZ("+(o.rotateZ||0)+"deg)")+" "+("scaleX("+o.scaleX+") scaleY("+o.scaleY+") scaleZ("+o.scaleZ+")")+";",this._log(c),i.attr("style","transform:"+c+" -webkit-transform:"+c+" "+e))},this)),window.requestAnimationFrame?window.requestAnimationFrame(X.proxy(this._onScroll,this,!1)):this._requestAnimationFrame(X.proxy(this._onScroll,this,!1))}}}(jQuery);